<project default="generateParser">

	<target name="generateParser">
		<java  jar="../../javacup/java-cup-10k.jar" input="php_compiler_ast_parser.cup" fork="true">
			<arg value="-compact_red" />
			<arg value="-expect" />
			<arg value="4" />
			<arg value="-parser" />
			<arg value="Php5AstParser" />
			<arg value="-symbols" />
			<arg value="Php5ParserConstants" />
			<arg value="-interface" />
		</java>
		
		<replace
			file="Php5AstParser.java"
			token="extends java_cup.runtime.lr_parser"
			value="extends AbstractASTParser"/>

		<move file="Php5AstParser.java" todir="../../../../src/org/eclipse/php/internal/core/compiler/ast/parser/php5/" />

		<move file="Php5ParserConstants.java" todir="../../../../src/org/eclipse/php/internal/core/compiler/ast/parser/php5" />

	</target>
</project>
