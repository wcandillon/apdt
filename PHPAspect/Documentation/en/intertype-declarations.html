<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Chapter 8. Inter-type declarations</title><link rel="stylesheet" href="docbook.css" type="text/css"></link><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"></meta><link rel="start" href="index.html" title="phpAspect documentation"></link><link rel="up" href="index.html" title="phpAspect documentation"></link><link rel="prev" href="advices.html" title="Chapter 7. Advices"></link><link rel="next" href="phpaspect.wildcards.html" title="Chapter 9. phpAspect Wildcards"></link><script xmlns="" src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script xmlns="" type="text/javascript">
    _uacct = "UA-259974-1";
    urchinTracker();
    </script></head><body><a xmlns="" href="http://phpaspect.org"><img src="http://phpaspect.org/images/phpaspect.png" alt="phpAspect Logo" style="border:0;"></a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 8. Inter-type declarations</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="advices.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="phpaspect.wildcards.html">Next</a></td></tr></table><hr></hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="intertype-declarations"></a>Chapter 8. Inter-type declarations</h2></div></div></div><p>
    Aspects can declare attributes, methods, constants 
    and constructors that are owned by other types. 
    These are called inter-type declarations.
    </p><div class="example"><a id="intertype-declarations.attribute"></a><p class="title"><b>Example 8.1: Attribute introduction</b></p><div class="example-contents"><pre class="programlisting"><code><span class="default">&lt;?php</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//Declare&nbsp;$pearLog&nbsp;and&nbsp;$debug&nbsp;attributes&nbsp;in&nbsp;all&nbsp;types&nbsp;prefixed&nbsp;by&nbsp;Bo.</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">private</span><span class="default">&nbsp;</span><span class="default">Bo</span><span class="keyword">*</span><span class="keyword">::</span><span class="default">$pearLog</span><span class="keyword">,</span><span class="default">&nbsp;</span><span class="default">Bo</span><span class="keyword">*</span><span class="keyword">::</span><span class="default">$debug</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//Declare&nbsp;$instance&nbsp;attribute&nbsp;in&nbsp;Foo&nbsp;and&nbsp;Bar&nbsp;types.</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">private</span><span class="default">&nbsp;</span><span class="keyword">static</span><span class="default">&nbsp;</span><span class="default">Foo</span><span class="keyword">,</span><span class="default">Bar</span><span class="keyword">::</span><span class="default">$instance</span><span class="default">&nbsp;</span><span class="keyword">=</span><span class="default">&nbsp;</span><span class="default">null</span><span class="keyword">;</span><br /><span class="default">?&gt;</span><br /></code></pre></div></div><br class="example-break"></br><div class="example"><a id="intertype-declarations.constant"></a><p class="title"><b>Example 8.2: Constant introduction</b></p><div class="example-contents"><pre class="programlisting"><code><span class="default">&lt;?php</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//Declare&nbsp;PEAR_LOG_DEBUG&nbsp;and&nbsp;PEAR_LOG_ERR&nbsp;constants&nbsp;in&nbsp;class&nbsp;Log.&nbsp;</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="default">Log</span><span class="keyword">::</span><span class="default">PEAR_LOG_DEBUG</span><span class="keyword">=</span><span class="default">7</span><span class="keyword">,</span><span class="default">&nbsp;</span><span class="default">Log</span><span class="keyword">::</span><span class="default">PEAR_LOG_ERR</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">;</span><br /><span class="default">?&gt;</span><br /></code></pre></div></div><br class="example-break"></br><div class="example"><a id="intertype-declarations.method"></a><p class="title"><b>Example 8.3: Method introduction</b></p><div class="example-contents"><pre class="programlisting"><code><span class="default">&lt;?php</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//Declare&nbsp;setLog&nbsp;method&nbsp;in&nbsp;all&nbsp;types&nbsp;prefixed&nbsp;by&nbsp;Bo.</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">public</span><span class="default">&nbsp;</span><span class="keyword">function</span><span class="default">&nbsp;</span><span class="default">Bo</span><span class="keyword">*</span><span class="keyword">::</span><span class="default">setLog</span><span class="keyword">(</span><span class="default">Log</span><span class="default">&nbsp;</span><span class="default">$log</span><span class="keyword">)</span><span class="keyword">{</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">debug</span><span class="keyword">)</span><span class="keyword">{</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="default">$log</span><span class="keyword">-&gt;</span><span class="default">setMask</span><span class="keyword">(</span><span class="default">Log</span><span class="keyword">::</span><span class="default">PEAR_LOG_DEBUG</span><span class="keyword">)</span><span class="keyword">;</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">}</span><span class="keyword">else</span><span class="keyword">{</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="default">$log</span><span class="keyword">-&gt;</span><span class="default">setMask</span><span class="keyword">(</span><span class="default">Log</span><span class="keyword">::</span><span class="default">PEAR_LOG_ERROR</span><span class="keyword">)</span><span class="keyword">;</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">}</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">pearLog</span><span class="default">&nbsp;</span><span class="keyword">=</span><span class="default">&nbsp;</span><span class="default">$log</span><span class="keyword">;</span><br /><span class="default">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">}</span><br /><span class="default">?&gt;</span><br /></code></pre></div></div><br class="example-break"></br></div><div class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="advices.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="phpaspect.wildcards.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 7. Advices </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 9. phpAspect Wildcards</td></tr></table></div><div xmlns="" class="copyright-notice"><a href="appendixes.copyright.html">Copyright</a> © 2006-2007 <a href="mailto:wcandillon@elv.telecom-lille1.eu">William Candillon</a>
      and <a href="mailto:vanwormhoudt@telecom-lille1.eu">Gilles Vanwormhoudt</a>.
    </div></body></html>
