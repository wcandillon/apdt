<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.3"?>
<plugin>
   <!-- PHPAspect Content type -->
   <extension
         point="org.eclipse.core.runtime.contentTypes">
      <content-type
            base-type="org.eclipse.php.core.phpsource"
            file-extensions="ap"
            id="org.phpaspect.apdt.core.phpaspectsource"
            name="PHPAspect Content Type"
            priority="high">
      </content-type>
    </extension>
    <!-- PHPAspect mixin build visitor -->
    <extension
        point="org.eclipse.php.core.phpMixinBuildVisitors">
      <visitor
            class="org.phpaspect.apdt.internal.core.builder.PHPAspectMixinBuildVisitor">
      </visitor>
    </extension>
	<!-- PHPAspect Model Handler -->
	<extension
         point="org.eclipse.wst.sse.core.modelHandler">
      <modelHandler
            default="yes"
            class="org.phpaspect.apdt.internal.core.documentModel.handler.PHPAspectModelHandler"
            associatedContentTypeId="org.phpaspect.apdt.core.phpaspectsource"
            id="org.phpaspect.apdt.core.documentModel.handler">
      </modelHandler>
   </extension>
	<!-- DocumentFactory extension for PHPAspect: This is needed in order to bootstrap the lookup of the ModelHandler -->
	<extension point="org.eclipse.core.filebuffers.documentCreation"
         id="org.phpaspect.apdt.core.documentfactories"
         name="PHPAspect Document Creation Factory">
         <!-- This is a base factory class included in WST -->
      <factory
            contentTypeId="org.phpaspect.apdt.core.phpaspectsource"
            class="org.eclipse.wst.sse.core.internal.filebuffers.BasicStructuredDocumentFactory"/>
   </extension>
   <extension
         id="org.phpaspect.apdt.core.phpAspectNature"
         name="PHPAspect Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.phpaspect.apdt.internal.core.builder.PHPAspectNature">
         </run>
      </runtime>
      <requires-nature id="org.eclipse.php.core.PHPNature" />
   </extension>
	 <extension
	       id="phpaspectproblemmarker"
	       name="PHPAspect Syntax Error"
	       point="org.eclipse.core.resources.markers">
	    <super type="org.eclipse.core.resources.problemmarker"/>
	    <persistent value="true"/>
	    <attribute name="lineNumber"/>
	    <attribute name="charStart"/>
	    <attribute name="charEnd"/>
	    <attribute name="message"/>
	    <attribute name="priority"/>
	    <attribute name="severity"/>
	    <attribute name="userEditable"/>
	    <super type="org.eclipse.core.resources.textmarker"/>
	 </extension>
  <extension
	   point="org.eclipse.dltk.core.language">
	<language
	      class="org.phpaspect.apdt.internal.core.builder.PHPAspectLanguageToolkit"
	      nature="org.phpaspect.apdt.core.phpAspectNature"
	      priority="0">
	</language>
  </extension>
 <extension
       point="org.eclipse.dltk.core.sourceParsers">
    <parserContribution
          natureId="org.phpaspect.apdt.core.phpAspectNature">
       <parser
             class="org.phpaspect.apdt.internal.core.compiler.ast.parser.PHPAspectSourceParserFactory"
             description="Creates PHPAspect source parser"
             id="org.phpaspect.apdt.core.phpAspectSourceParserFactory"
             name="PHPAspect source parser factory"
             priority="0">
       </parser>
    </parserContribution>
 </extension>
 <extension
       point="org.eclipse.dltk.core.sourceElementParsers">
    <parser                                                           
          class="org.phpaspect.apdt.internal.core.compiler.ast.parser.PHPAspectSourceElementParser"
          nature="org.phpaspect.apdt.core.phpAspectNature"
          priority="0">
    </parser>
 </extension>
 <extension
       point="org.eclipse.dltk.core.mixin">
    <mixin
          class="org.phpaspect.apdt.internal.core.mixin.PHPAspectMixinParser"
          nature="org.phpaspect.apdt.core.phpAspectNature"
          priority="0">
    </mixin>
 </extension>
 <extension
       point="org.eclipse.dltk.core.buildpathContainerInitializer">
    <buildpathContainerInitializer
          class="org.phpaspect.apdt.internal.core.language.LanguageModelInitializer"
          id="org.phpaspect.apdt.core.RUNTIME_LANGUAGE">
    </buildpathContainerInitializer>
 </extension>
</plugin>